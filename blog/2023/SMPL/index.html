<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Skinned Multi-Person Linear Model (SMPL) | Suraj Bhor </title> <meta name="author" content="Suraj Bhor"> <meta name="description" content="Realistic 3D model of the human body that is based on skinning and blend shapes"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://suraj-bhor.github.io/blog/2023/SMPL/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Skinned Multi-Person Linear Model (SMPL)",
            "description": "Realistic 3D model of the human body that is based on skinning and blend shapes",
            "published": "April 09, 2023",
            "authors": [
              
              {
                "author": "Suraj Bhor",
                "authorURL": "https://suraj-bhor.github.io/",
                "affiliations": [
                  {
                    "name": "Max Planck Institute, Tübingen, Germany",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Suraj Bhor </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Suraj Bhor </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/_pages/dropdown/">submenus </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Skinned Multi-Person Linear Model (SMPL)</h1> <p>Realistic 3D model of the human body that is based on skinning and blend shapes</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#introduction">Introduction</a> </div> <div> <a href="#overview-of-the-smpl-body-model">Overview of the SMPL Body model</a> </div> <div> <a href="#smpl-model-formulation">SMPL Model Formulation</a> </div> <div> <a href="#demo-of-the-smpl-model">Demo of the SMPL Model</a> </div> <div> <a href="#conclusion">Conclusion</a> </div> </nav> </d-contents> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/SMPL_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 1: (left) SMPL model (orange) fit to ground truth 3D meshes (gray). <i>Image and caption from <d-cite key="SMPL:2015"></d-cite></i> </div> <h2 id="introduction">Introduction</h2> <p>In today’s rapidly evolving digital world, creating realistic and versatile human body representations is crucial for various applications, including animation, virtual reality, and video game development. If you’ve ever wondered how these lifelike 3D characters are brought to life, you’re in for a treat! In this blog post, we’ll dive into the fascinating world of the Skinned Multi-Person Linear (SMPL) body model—a cutting-edge approach to 3D human body modeling. Join me as we explore the inner workings of SMPL, learn how to harness its power through a step-by-step demo, and discover the potential applications that could revolutionize the way we interact with digital characters.</p> <p>Skinned Multi-Person Linear Model (SMPL)<d-cite key="SMPL:2015"></d-cite> is designed to create 3D models of human bodies, considering variations in body shape and posture. The different components of this model, such as the rest pose template, blend weights, and blend shapes <d-footnote> A blend shape is a deformed version of a base 3D mesh (usually a character's face or body) that represents a specific shape or expression. By interpolating between the base mesh and one or more blend shapes, you can create smooth transitions between different expressions or poses.</d-footnote>, are learned from a large dataset of 3D scans of different people in various poses. One unique aspect of SMPL is that the pose-dependent blend shapes are based on a simple linear function of the pose rotation matrices, which makes it easier to train the model. The model specifically learn blend shapes to correct for the limitations of standard skinning. Different blend shapes for identity, pose, and soft-tissue dynamics are additively combined with a rest template before being transformed by blend skinning <d-footnote>Blend skinning is a way to calculate how the vertices (points) of a 3D mesh should move when a character's joints (like an elbow or knee) rotate. It works by assigning weights to each vertex, which determine how much influence a nearby joint has on the vertex's movement. When a joint rotates, the vertices connected to that joint move according to their assigned weights, creating a smooth deformation of the character's mesh.</d-footnote>.</p> <p><strong>So why do we need these body models?</strong></p> <p>In animating realistic human bodies, the commercial approach is usually to hand rig the meshes and manually sculpt blend shapes. This approach takes a lot of manual work and hence large amount of time is needed to get the blend shapes right. So the research community has focused on learning a statistical body model from thousands of 3D body scans of real people in different shapes and poses.</p> <h2 id="overview-of-the-smpl-body-model">Overview of the SMPL Body model</h2> <p>The SMPL body model uses the objective of minimizing the difference between the predicted 3D mesh and the ground truth 3D mesh. To capture how people’s bodies change with different poses, the researchers used 1,786 high-resolution 3D scans of various subjects in a wide range of poses. The model was trained to optimize various parameters, including blend weights, pose-dependent blend shapes, the mean template shape (rest pose), and a regressor that predicts joint locations based on body shape. This joint regressor is crucial for creating realistic pose-dependent deformations for any body shape, as it predicts joint locations as a function of body shape.</p> <p>The model is trained on a large dataset of 3D scans of different people in various poses. The model is trained to learn the following components:</p> <ul> <li>Rest pose template <d-footnote> The rest pose template is a 3D mesh of a human body in a neutral pose. It is the base mesh that is used to create the final 3D mesh.</d-footnote> </li> <li>Blend weights <d-footnote> The blend weights are the weights assigned to each vertex of the rest pose template. These weights determine how much influence a nearby joint has on the vertex's movement.</d-footnote> </li> <li>Shape Blend shapes <d-footnote> The shape blend shapes are the deformed versions of the rest pose template that represent a specific shape or expression.</d-footnote> </li> <li>Pose-dependent blend shapes <d-footnote> The pose-dependent blend shapes are the deformed versions of the rest pose template that represent a specific pose.</d-footnote> </li> <li>Joint regressor <d-footnote> The joint regressor is a linear regressor that predicts joint locations as a function of body shape.</d-footnote> </li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/SMPL_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 2: (a) Template mesh with blend weights indicated by color and joints shown in white. (b) With identity driven blendshape contribution only; vertex and joint locations are linear in shape vector $ \color{green} \overrightarrow{\beta} $ (c) With the addition of pose blend shapes in preparation for the split pose; note the expansion of the hips. (d) Deformed vertices reposed by dual quaternion skinning for the split pose.<i>Image and caption from <d-cite key="SMPL:2015"></d-cite></i> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/SMPL_MOV_1.gif" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figure 3: Summary of the SMPL body model with rest pose template, shape blend shapes, pose-dependent blend shapes and final mesh. </div> <h2 id="smpl-model-formulation">SMPL Model Formulation</h2> <p>The SMPL model is formulated as a linear combination of the rest pose template, shape blend shapes, and pose-dependent blend shapes. The final 3D mesh is obtained by adding the rest pose template and the pose-dependent blend shapes to the shape blend shapes, and then applying blend skinning to the resulting mesh. SMPL takes a vertex-based approach to skinning, which means that the vertices of the rest pose template are transformed by the joints of the skeleton. The weights of the vertices are determined by the distance between the vertices and the joints. The closer the vertices are to the joints, the higher the weight assigned to them. The weights are then used to calculate the final position of the vertices. A single blend shape is represented as created mesh with N=6890 vertices and K = 23 joints.</p> <p>Following a standard skinning practice, the model is defined by :</p> <ul> <li>a mean template shape represented by a vector \(N\) concatenated vertices \(\bar{T} \in \mathbb{R}^{3N}\) in the zero pose \(\tilde{\boldsymbol{\theta}}^{*}\)</li> <li>\(W \in \mathbb{R}^{N \times K}\) :- a set of <strong>Blend Weights</strong> (Fig. 2(a))</li> <li>\(B_{S}(\tilde{\boldsymbol{\beta}}):\mathbb{R}^{\mid \tilde{\boldsymbol{\beta}}\mid} \rightarrow \mathbb{R}^{3N}\) :- a <strong>Blend Shape</strong> function that takes as input a vector of shape parameters, \(\tilde{\boldsymbol{\beta}}\), and outputs a blend shape sculpting the subject identity (Fig. 2(b))</li> <li>\(J(\tilde{\boldsymbol {\beta}}) : \mathbb{R}^{\mid \tilde{\boldsymbol{\beta}}\mid} \rightarrow w \mathbb{R}^{3K}\) :- a <strong>Joint Regressor</strong> function to predict \(K\) joint locations (white dots in Fig. 2(b)) as a function of shape parameters, \(\tilde{\boldsymbol{\beta}}\)</li> <li>\(B_{P}(\tilde{\boldsymbol{\theta}}) : \mathbb{R}^{\mid \tilde{\boldsymbol{\theta}}\mid } \rightarrow \mathbb{R}^{3N}\):- a <strong>Pose-Dependent Blend Shape</strong> function that takes as input a vector of pose parameters, \(\tilde{\boldsymbol{\theta}}\), and accounts for the effects of pose-dependent deformations (Fig. 2(c)).</li> </ul> <p>The corrective blend shapes of these functions are added together in the rest pose as illustrated in (Fig. 2(c)). Finally, a standard blend skinning function \(W(\cdot)\) (linear or dual-quaternion) is applied to rotate the vertices around the estimated joint centers with smoothing defined by the blend weights. The result is a model, \(M(\tilde{\boldsymbol{\beta}}, \tilde{\boldsymbol{\theta}}; \boldsymbol{\Phi}) : \mathbb{R}^{\mid \tilde{\boldsymbol{\theta}}\mid \times \mid \tilde{\boldsymbol{\beta}}\mid} \rightarrow \mathbb{R}^{3N}\), that maps shape and pose parameters to vertices (Fig. 2(d)). Here $\boldsymbol{\Phi}$ represents the learned model parameters.$$</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/2023-04-09-SMPL.bib"></d-bibliography> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Suraj Bhor. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>